{"id":"personal-site-2t5","title":"Add image upload via Contents API","description":"Upload images to static/ directory via GitHub Contents API PUT. File picker or drag-and-drop in the editor. On upload: base64-encode image, PUT to static/{filename} via Contents API, insert markdown image syntax ![alt](/{filename}) at cursor position. Handle name collisions.","status":"open","priority":3,"issue_type":"task","owner":"bharatagarwal@gmail.com","created_at":"2026-02-08T18:00:42.813129+05:30","created_by":"Bharat Agarwal","updated_at":"2026-02-08T18:00:42.813129+05:30","dependencies":[{"issue_id":"personal-site-2t5","depends_on_id":"personal-site-hnr","type":"blocks","created_at":"2026-02-08T18:00:58.788332+05:30","created_by":"Bharat Agarwal"}]}
{"id":"personal-site-4xr","title":"Integrate TipTap rich text editor","description":"Replace plain textarea with TipTap + tiptap-markdown for WYSIWYG editing. Add source toggle (raw markdown view via CodeMirror or textarea) as escape hatch. TipTap handles rich editing, tiptap-markdown handles markdown round-tripping. Approach C from ADR.","status":"open","priority":3,"issue_type":"task","owner":"bharatagarwal@gmail.com","created_at":"2026-02-08T18:00:40.589939+05:30","created_by":"Bharat Agarwal","updated_at":"2026-02-08T18:00:40.589939+05:30","dependencies":[{"issue_id":"personal-site-4xr","depends_on_id":"personal-site-hnr","type":"blocks","created_at":"2026-02-08T18:00:57.589567+05:30","created_by":"Bharat Agarwal"}]}
{"id":"personal-site-889","title":"Build post listing view via GitHub Contents API","description":"SvelteKit route at /edit. Fetch repo contents via GitHub Contents API (using getToken()). Display list of posts from content/posts/ with title, date, and edit link. Each item links to /edit/[slug].","notes":"DRAFT HANDLING: Show drafts in listing with visible 'Draft' badge/tag. Differentiate from published posts (e.g. grouped separately or visually distinct). Use frontmatter draft field.","status":"open","priority":2,"issue_type":"task","owner":"bharatagarwal@gmail.com","created_at":"2026-02-08T14:59:15.128582+05:30","created_by":"Bharat Agarwal","updated_at":"2026-02-08T18:01:12.159832+05:30","dependencies":[{"issue_id":"personal-site-889","depends_on_id":"personal-site-eim","type":"blocks","created_at":"2026-02-08T14:59:40.607376+05:30","created_by":"Bharat Agarwal"},{"issue_id":"personal-site-889","depends_on_id":"personal-site-kf1","type":"blocks","created_at":"2026-02-08T14:59:40.662939+05:30","created_by":"Bharat Agarwal"},{"issue_id":"personal-site-889","depends_on_id":"personal-site-fq8","type":"blocks","created_at":"2026-02-08T18:00:55.936022+05:30","created_by":"Bharat Agarwal"}]}
{"id":"personal-site-8ca","title":"Integrate markdown editor component","description":"TipTap markdown editor for post body. Carbon-styled toolbar for formatting. Sits below frontmatter form.","status":"closed","priority":2,"issue_type":"task","owner":"bharatagarwal@gmail.com","created_at":"2026-02-08T14:59:19.499958+05:30","created_by":"Bharat Agarwal","updated_at":"2026-02-08T17:43:44.977195+05:30","closed_at":"2026-02-08T17:43:44.977195+05:30","close_reason":"Merged into single edit-post route task"}
{"id":"personal-site-8vk","title":"Swarm: Add visual editor for blog posts","description":"Swarm molecule orchestrating epic personal-site-r9z.\n\nEpic: personal-site-r9z\nCoordinator: ","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-02-08T15:09:42.016195+05:30","created_by":"Bharat Agarwal","updated_at":"2026-02-08T15:09:42.016195+05:30","dependencies":[{"issue_id":"personal-site-8vk","depends_on_id":"personal-site-r9z","type":"relates-to","created_at":"2026-02-08T15:09:42.01679+05:30","created_by":"Bharat Agarwal"}],"mol_type":"swarm"}
{"id":"personal-site-90v","title":"Add new post creation flow","description":"New post creation flow. Generate slug from title, set date to now, default frontmatter. SvelteKit route at /edit/new.","notes":"DRAFT DEFAULT: New posts default to draft=true. Show visible note in UI: 'New posts are saved as drafts. Uncheck to publish.' Slug generated from title, date set to now.","status":"open","priority":3,"issue_type":"task","owner":"bharatagarwal@gmail.com","created_at":"2026-02-08T14:59:23.681074+05:30","created_by":"Bharat Agarwal","updated_at":"2026-02-08T18:01:14.873372+05:30","dependencies":[{"issue_id":"personal-site-90v","depends_on_id":"personal-site-hnr","type":"blocks","created_at":"2026-02-08T17:43:59.534649+05:30","created_by":"Bharat Agarwal"}]}
{"id":"personal-site-bd0","title":"ADR: Editor tech stack","description":"Architecture Decision Record for the visual editor stack. Decision: SvelteKit + Carbon Components Svelte + TipTap. Rationale: Svelte is simpler than React (fewer concepts, native reactivity). Carbon provides 100+ components without Tailwind. TipTap is framework-agnostic ProseMirror wrapper. SvelteKit chosen over plain Vite for file-based routing and MCP server support. Alternatives considered: React + HeroUI, React + shadcn, Svelte + Pico CSS, Svelte + Open Props, vanilla JS.","status":"closed","priority":1,"issue_type":"task","owner":"bharatagarwal@gmail.com","created_at":"2026-02-08T17:19:07.957225+05:30","created_by":"Bharat Agarwal","updated_at":"2026-02-08T17:19:29.400598+05:30","closed_at":"2026-02-08T17:19:29.400598+05:30","close_reason":"Decided: SvelteKit + Carbon Components Svelte + TipTap. No Tailwind. PAT-based auth. Static deployment.","labels":["architecture","documentation"],"dependencies":[{"issue_id":"personal-site-bd0","depends_on_id":"personal-site-r9z","type":"parent-child","created_at":"2026-02-08T17:19:17.040761+05:30","created_by":"Bharat Agarwal"}]}
{"id":"personal-site-bst","title":"Implement save-as-commit via GitHub Contents API","description":"On save, combine frontmatter + body into markdown with +++ delimiters. GitHub Contents API PUT to commit. Handle create (new) and update (existing, requires SHA). Show commit status feedback via Carbon toast/notification.","status":"closed","priority":1,"issue_type":"task","owner":"bharatagarwal@gmail.com","created_at":"2026-02-08T14:59:22.315831+05:30","created_by":"Bharat Agarwal","updated_at":"2026-02-08T17:43:44.98093+05:30","closed_at":"2026-02-08T17:43:44.98093+05:30","close_reason":"Merged into single edit-post route task"}
{"id":"personal-site-bwe","title":"Build frontmatter TOML parser ($lib/frontmatter.ts)","description":"Parse and serialize Zola TOML frontmatter. Split on +++ delimiters, parse TOML middle with smol-toml, return { frontmatter, body }. Serialize back on save. Frontmatter shape: title, date, draft, description, [taxonomies] tags, [extra] featured, toc. Round-trip fidelity is critical — parse then stringify must preserve the original structure. Library: smol-toml (actively maintained, ~4KB, browser-compatible, parse + stringify).","status":"open","priority":2,"issue_type":"task","owner":"bharatagarwal@gmail.com","created_at":"2026-02-08T18:00:38.705037+05:30","created_by":"Bharat Agarwal","updated_at":"2026-02-08T18:00:38.705037+05:30"}
{"id":"personal-site-eim","title":"Set up PAT-based auth flow","description":"Auth for /edit using GitHub Personal Access Token. Production: password input field with autocomplete attributes to trigger Mac Passwords. Token stored in sessionStorage. Local dev: .env file with GITHUB_PERSONAL_ACCESS_TOKEN (fetched via JS, 404s in production). Single code path via initAuth() fallback chain: .env → sessionStorage → null. No server-side code, no OAuth.","status":"closed","priority":1,"issue_type":"task","owner":"bharatagarwal@gmail.com","created_at":"2026-02-08T14:59:10.705103+05:30","created_by":"Bharat Agarwal","updated_at":"2026-02-08T17:37:19.536228+05:30","closed_at":"2026-02-08T17:37:19.536228+05:30","close_reason":"PAT auth implemented in SvelteKit: auth.ts module with initAuth/getToken/setToken, Login.svelte with Carbon PasswordInput and autocomplete attributes for Mac Passwords. .env fallback for local dev, sessionStorage for production.","dependencies":[{"issue_id":"personal-site-eim","depends_on_id":"personal-site-r9z","type":"parent-child","created_at":"2026-02-08T14:59:39.3364+05:30","created_by":"Bharat Agarwal"}]}
{"id":"personal-site-fq8","title":"Build GitHub API module ($lib/github.ts)","description":"Shared GitHub Contents API wrapper. Three operations: listPosts() → GET contents/content/posts/, getPost(slug) → GET single file (returns base64 + SHA), savePost(slug, content, sha) → PUT (create or update). Auth header via getToken(). Error handling: GitHubError with status field. 401 → clear token, redirect to login. 409 → conflict message. Inline Carbon InlineNotification for errors in consuming routes.","status":"open","priority":2,"issue_type":"task","owner":"bharatagarwal@gmail.com","created_at":"2026-02-08T18:00:35.233618+05:30","created_by":"Bharat Agarwal","updated_at":"2026-02-08T18:00:35.233618+05:30"}
{"id":"personal-site-hnr","title":"Build edit route — basic (/edit/[slug])","description":"SvelteKit route at /edit/[slug]. Fetch post via GitHub API module (getPost). Parse frontmatter via frontmatter module. Display: TOML frontmatter form (title, date, description, draft, tags, extra.featured, extra.toc) + plain textarea for markdown body. Save button commits via GitHub API module (savePost with SHA). Optimistic saving. Source toggle and TipTap editor extracted to separate tasks (4xr). Image upload extracted (2t5).","notes":"Parent epic: personal-site-r9z. DECISION: Commit straight to main via Contents API. Refactor to branch-based workflow if deploy noise becomes a problem.","status":"open","priority":2,"issue_type":"task","owner":"bharatagarwal@gmail.com","created_at":"2026-02-08T17:43:52.423828+05:30","created_by":"Bharat Agarwal","updated_at":"2026-02-08T18:01:09.701449+05:30","dependencies":[{"issue_id":"personal-site-hnr","depends_on_id":"personal-site-889","type":"blocks","created_at":"2026-02-08T17:43:59.481826+05:30","created_by":"Bharat Agarwal"},{"issue_id":"personal-site-hnr","depends_on_id":"personal-site-bwe","type":"blocks","created_at":"2026-02-08T18:00:56.797213+05:30","created_by":"Bharat Agarwal"}]}
{"id":"personal-site-kf1","title":"Scaffold SvelteKit editor project","description":"Set up SvelteKit sub-project with pnpm, Carbon Components Svelte, adapter-static. Build output goes to static/edit/. Configure Netlify build to run both Zola and SvelteKit builds. Install Svelte MCP server.","notes":"Decision: no SPA sub-routes for now. Single page, state managed in JS. No Netlify redirect rule needed. Add routing later if bookmarking specific posts becomes valuable.","status":"closed","priority":1,"issue_type":"task","owner":"bharatagarwal@gmail.com","created_at":"2026-02-08T14:59:13.407308+05:30","created_by":"Bharat Agarwal","updated_at":"2026-02-08T17:35:32.721983+05:30","closed_at":"2026-02-08T17:35:32.721983+05:30","close_reason":"SvelteKit project scaffolded in editor/ with adapter-static outputting to static/edit/. Carbon Components Svelte added. Netlify build updated. Svelte MCP server installed.","dependencies":[{"issue_id":"personal-site-kf1","depends_on_id":"personal-site-r9z","type":"parent-child","created_at":"2026-02-08T14:59:39.392494+05:30","created_by":"Bharat Agarwal"}]}
{"id":"personal-site-ozt","title":"Build TOML frontmatter form editor","description":"Structured form for Zola TOML frontmatter: title, date, description, tags, draft flag, slug, extra fields (custom CSS/JS). Carbon form components. Parse existing +++ frontmatter on load, serialize back on save.","status":"closed","priority":2,"issue_type":"task","owner":"bharatagarwal@gmail.com","created_at":"2026-02-08T14:59:18.143368+05:30","created_by":"Bharat Agarwal","updated_at":"2026-02-08T17:43:44.978924+05:30","closed_at":"2026-02-08T17:43:44.978924+05:30","close_reason":"Merged into single edit-post route task"}
{"id":"personal-site-r9z","title":"Add visual editor for blog posts","description":"Web-based visual editor for blog posts, served at /edit on the same Netlify deployment. SvelteKit app with Carbon Components Svelte for UI, TipTap for markdown editing. PAT-based auth (sessionStorage). GitHub Contents API for read/write — each save = git commit. No server-side runtime, no database. Static output deployed alongside the Zola blog.","design":"\nStack: SvelteKit + Carbon Components Svelte (IBM) + TipTap\nBuild: Vite (via SvelteKit), pnpm, adapter-static\nDeployment: Static output to static/edit/, served by Netlify alongside Zola blog\nAuth: PAT-based. Local dev reads from static/edit/.env, production shows password prompt. sessionStorage (dies with tab). Single code path via getToken() fallback chain.\nRouting: SvelteKit file-based routing (/edit, /edit/new, /edit/[slug])\nStyling: Carbon Design System (SCSS), no Tailwind\nEditor: TipTap (ProseMirror-based)\nAgent tooling: Svelte MCP server (@sveltejs/mcp) for code analysis and fixes\n\nPrinciples:\n- Simple over easy (Rich Hickey). Fewer interleaved concepts.\n- Single code path for local and production.\n- No server-side runtime. Static files + GitHub API.\n- Each save = git commit via GitHub Contents API.\n","notes":"COMPLETED: Tech stack ADR (bd0). SvelteKit scaffold with adapter-static, Carbon Components, Svelte MCP (kf1). PAT auth with sessionStorage + .env fallback (eim).\nRESTRUCTURED: Original edit route (hnr) split into: edit basic with textarea (hnr), TipTap rich editor (4xr), image upload (2t5). Frontmatter parsing extracted to its own task (bwe). GitHub API module extracted (fq8).\nTASK ORDER: GitHub API module (fq8) + frontmatter parser (bwe) → post listing (889) → edit route basic (hnr) → TipTap (4xr) / image upload (2t5) / new post (90v).\nDECISIONS: smol-toml for TOML parsing. Commit straight to main. Drafts differentiated in listing. New posts default to draft. Error handling baked into GitHub API module (GitHubError with status, 401→re-auth, 409→conflict).","status":"open","priority":2,"issue_type":"epic","owner":"bharatagarwal@gmail.com","created_at":"2026-02-08T14:48:59.851111+05:30","created_by":"Bharat Agarwal","updated_at":"2026-02-08T18:01:25.697609+05:30","comments":[{"id":1,"issue_id":"personal-site-r9z","author":"Bharat Agarwal","text":"Design decision: no SPA sub-routes for now. Single page at /edit, state managed in JS. No Netlify redirect rule. Revisit if bookmarking specific post edit views becomes valuable.","created_at":"2026-02-08T10:32:54Z"},{"id":2,"issue_id":"personal-site-r9z","author":"Bharat Agarwal","text":"Design principle: use Rich Hickey's simple vs easy dichotomy. Always prefer simple (fewer interleaved concepts, single code path) over easy (familiar, quick to set up but complex underneath).","created_at":"2026-02-08T10:34:30Z"},{"id":3,"issue_id":"personal-site-r9z","author":"Bharat Agarwal","text":"Design decision: PAT-based auth instead of GitHub OAuth. Eliminates Netlify Function, OAuth app registration, client secret. Single concept (token) instead of many (OAuth flow, callback, client ID/secret, function). User stores PAT in Mac Passwords, browser auto-fills.","created_at":"2026-02-08T10:38:10Z"},{"id":4,"issue_id":"personal-site-r9z","author":"Bharat Agarwal","text":"Design decision: Svelte + Carbon Components Svelte (IBM) for the editor UI. No Tailwind. Carbon provides 100+ accessible components with SCSS theming. TipTap for markdown editing. Svelte MCP server (@sveltejs/mcp) for agent-friendly development with auto-fixing.","created_at":"2026-02-08T11:46:01Z"},{"id":5,"issue_id":"personal-site-r9z","author":"Bharat Agarwal","text":"Supersedes earlier 'no sub-routes' decision. Now using SvelteKit file-based routing: /edit (post list), /edit/new (create), /edit/[slug] (edit).","created_at":"2026-02-08T11:54:33Z"}]}
